---
import type { CollectionEntry } from 'astro:content';

interface Props {
  article: CollectionEntry<'articles'>;
  showBorder?: boolean;
}

const { article, showBorder = true } = Astro.props;
---

<article class={`${showBorder ? 'border-b border-gray-200 pb-6' : ''}`}>
  <a href={`/articles/${article.slug}`} data-astro-prefetch="viewport" class="group block p-4 -m-4 rounded-lg hover:bg-gray-50 transition-all duration-200">
    <h3 class="text-xl font-semibold text-gray-900 group-hover:text-gray-600 transition-colors mb-2">
      {article.data.title}
    </h3>
    <p class="text-gray-600 mb-3 leading-relaxed">
      {article.data.description}
    </p>
    <div class="flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4">
      <time class="text-sm text-gray-500" datetime={article.data.publishDate.toISOString()}>
        {article.data.publishDate.toLocaleDateString('en-US', {
          year: 'numeric',
          month: 'long',
          day: 'numeric'
        })}
      </time>
      {article.data.tags.length > 0 && (
        <div class="flex flex-wrap gap-1">
          {article.data.tags.map((tag) => (
            <span class="px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded">
              {tag}
            </span>
          ))}
        </div>
      )}
    </div>
  </a>
</article>